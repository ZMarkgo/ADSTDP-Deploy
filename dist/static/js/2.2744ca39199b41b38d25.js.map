{"version":3,"sources":["webpack:///src/components/analysis/AccidentAnalysis.vue","webpack:///./src/components/analysis/AccidentAnalysis.vue?6f6a","webpack:///./src/components/analysis/AccidentAnalysis.vue","webpack:///src/components/test/ScenarioUpload.vue","webpack:///./src/components/test/ScenarioUpload.vue?acde","webpack:///./src/components/test/ScenarioUpload.vue"],"names":["AccidentAnalysis","name","components","ScenarioUpload","data","analysis1","analysis0","analysis2","scenario_upload_visible","scenario_select_visible","dialogFormVisible","accident_id","Afunction","form","state","id","type","function","analyzedScenario","accidentFilePath","hasSubmitted","mounted","this","loadAnalysisCases1","loadAnalysisCases0","loadAnalysisCases2","showDialog","methods","$route","query","_this","$axios","get","then","resp","code","result","handleScenarioSelect","value","handleScenarioSelectFromLibrary","_this2","console","log","$alert","confirmButtonText","uploadScenario","$refs","scenarioUpload","filePath","clearForm","deleteUploadedFile","beforeCloseHandler","done","onSubmit","_this3","date1","Date","toLocaleDateString","s","i","length","Number","post","date","$router","go","startAnalysis","testCaseID","_this4","message","setTimeout","catch","error","analysis_AccidentAnalysis","render","_vm","_h","$createElement","_c","_self","staticStyle","margin-top","staticClass","ref","on","click","$event","_v","attrs","title","visible","before-close","update:visible","text-align","directives","rawName","expression","domProps","checked","_q","change","$set","for","onUpload","model","callback","$$v","Array","isArray","_i","$$a","$$el","target","$$c","$$i","concat","slice","slot","width","_l","analysis","key","float","height","to","path","font-size","_s","span","display","flex-direction","margin-left","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","myDialogVisible","fileList","fileName","handleExceed","files","upload","uploadFiles","pop","index","lastIndexOf","substring","res","err","clear","clearFiles","beforeUpload","file","isJson","isLimit5M","size","submitUpload","val","fileData","FormData","append","$emit","submit","show","handleCancel","handleConfirm","test_ScenarioUpload","action","http-request","accept","before-remove","multiple","limit","on-exceed","file-list","before-upload","auto-upload"],"mappings":"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","file":"static/js/2.2744ca39199b41b38d25.js","sourcesContent":["<template>\r\n  <div style=\"margin-top: 40px\">\r\n    <div class=\"AnalysisStarter\">\r\n      <div class=\"button-container\">\r\n        <el-button class=\"button\" @click=\"dialogFormVisible = true\" ref=\"analysisStarter\">新建事故分析</el-button>\r\n      </div>\r\n        <el-dialog\r\n        title=\"请设置您需要的分析信息\"\r\n        :visible.sync=\"dialogFormVisible\"\r\n        :before-close=\"beforeCloseHandler\">\r\n          <div style=\"text-align:left\">分析场景:\r\n            <input type=\"radio\" value=\"1\" v-model=\"form.analyzedScenario.id\" @change=\"handleScenarioSelect(form.analyzedScenario.id)\"/>\r\n            <label for=\"从事故列表选取\">从事故列表选取</label>\r\n            <input type=\"radio\" value=\"2\" v-model=\"form.analyzedScenario.id\" @change=\"handleScenarioSelect(form.analyzedScenario.id)\"/>\r\n            <label for=\"点击上传\">点击上传</label>\r\n            <scenario-upload v-show=\"scenario_upload_visible\" @onUpload=\"uploadScenario\" ref=\"scenarioUpload\"></scenario-upload>\r\n            <div class=\"scenario-select\" v-show=\"scenario_select_visible\">\r\n              请输入事故场景ID： <el-input v-model=\"accident_id\"></el-input>\r\n              <el-button @click=\"handleScenarioSelectFromLibrary\">检索事故场景</el-button>\r\n            </div>\r\n          </div>\r\n          <div style=\"text-align:left\">启用功能:\r\n            <input type=\"checkbox\" value=\"10\" v-model=\"Afunction\" />\r\n            <label for=\"无关场景元素分析\">无关场景元素分析</label>\r\n            <input type=\"checkbox\" value=\"1\" v-model=\"Afunction\" />\r\n            <label for=\"问题模块定位\">问题模块定位</label>\r\n          </div>\r\n          <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"dialogFormVisible = false\">取消</el-button>\r\n          <el-button type=\"primary\" @click=\"onSubmit\">添加事故分析</el-button>\r\n          </div>\r\n        </el-dialog>\r\n    </div>\r\n    <div class=\"analysis-area\">\r\n      <h1> 当前运行 </h1>\r\n      <el-card style=\"text-align: left;width:98%\">\r\n        <div v-for=\"analysis in analysis1\" :key=\"analysis.id\">\r\n          <div style=\"float:left;width:85%;height: 50px;\">\r\n            <router-link class=\"detail-link\" :to=\"{path:'/analysis/details', query:{id: analysis.id}}\"><span style=\"font-size: 20px\"><strong> ID:{{analysis.id}} </strong></span></router-link>\r\n            <span> {{analysis.date}} </span>\r\n            </div>\r\n        </div>\r\n      </el-card>\r\n\r\n      <h1> 等待运行 </h1>\r\n      <div>\r\n      <el-row>\r\n        <el-col\r\n          v-for=\"analysis in analysis0\"\r\n          :key=\"analysis.id\"\r\n          :span=\"8\"\r\n        >\r\n          <el-card style=\"text-align: left;width:94%;height:70%\">\r\n            <div style=\"float:left;width:85%;height: 100px;display: flex;flex-direction: row\">\r\n              <div>\r\n                <div><span style=\"font-size: 20px\"><strong> ID:{{analysis.id}} </strong></span></div>\r\n                <div><span> {{analysis.date}} </span></div>\r\n              </div>\r\n              <el-button style=\"margin-left: 40px; width: 100px; height: 50px;\" @click=\"startAnalysis(analysis.id)\">启动分析</el-button>\r\n           </div>\r\n         </el-card>\r\n        </el-col>\r\n      </el-row>\r\n      </div>\r\n\r\n      <h1> 运行结束 </h1>\r\n      <div>\r\n      <el-row>\r\n        <el-col\r\n          v-for=\"analysis in analysis2\"\r\n          :key=\"analysis.id\"\r\n          :span=\"8\"\r\n       >\r\n        <el-card style=\"text-align: left;width:94%;height:70%\">\r\n          <div style=\"float:left;width:85%;height: 100px;\">\r\n              <span style=\"font-size: 20px\"><strong>ID:{{analysis.id}}</strong></span>\r\n             <div><span> {{analysis.date}} </span></div>\r\n            </div>\r\n          </el-card>\r\n        </el-col>\r\n      </el-row>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import ScenarioUpload from '../test/ScenarioUpload.vue'\r\n\r\n  export default {\r\n    name: 'Analysis',\r\n    components: {ScenarioUpload},\r\n    data () {\r\n      return {\r\n        analysis1: [],\r\n        analysis0: [],\r\n        analysis2: [],\r\n        scenario_upload_visible: false, // 控制scenario-upload组件的显示和隐藏\r\n        scenario_select_visible: false,\r\n        dialogFormVisible: false, // 控制TestStarter的显示与隐藏\r\n        accident_id: '', // 事故场景列表中场景的id，由用户输入\r\n        Afunction: [],\r\n        form: {\r\n          state: {\r\n            id: '1',\r\n            type: ''\r\n          },\r\n          function: {\r\n            id: '',\r\n            type: ''\r\n          },\r\n          analyzedScenario: {\r\n            id: '',\r\n            type: ''\r\n          },\r\n          accidentFilePath: ''\r\n        },\r\n        hasSubmitted: false // 是否提交事故分析表单\r\n      }\r\n    },\r\n    mounted () {\r\n      this.loadAnalysisCases1()\r\n      this.loadAnalysisCases0()\r\n      this.loadAnalysisCases2()\r\n      this.showDialog()\r\n    },\r\n    methods: {\r\n      showDialog () {\r\n        if (this.$route.query.showDialog === 'true') {\r\n          this.dialogFormVisible = true\r\n        } else {\r\n          this.dialogFormVisible = false\r\n        }\r\n      },\r\n      loadAnalysisCases1 () {\r\n        var _this = this\r\n        this.$axios.get('/analyzedcases/state' + '/2').then(resp => {\r\n          if (resp && resp.data.code === 200) {\r\n            _this.analysis1 = resp.data.result\r\n          }\r\n        })\r\n      },\r\n      loadAnalysisCases0 () {\r\n        var _this = this\r\n        this.$axios.get('/analyzedcases/state' + '/1').then(resp => {\r\n          if (resp && resp.data.code === 200) {\r\n            _this.analysis0 = resp.data.result\r\n          }\r\n        })\r\n      },\r\n      loadAnalysisCases2 () {\r\n        var _this = this\r\n        this.$axios.get('/analyzedcases/state' + '/3').then(resp => {\r\n          if (resp && resp.data.code === 200) {\r\n            _this.analysis2 = resp.data.result\r\n          }\r\n        })\r\n      },\r\n      handleScenarioSelect (value) {\r\n        // eslint-disable-next-line eqeqeq\r\n        if (value == 1) {\r\n          this.scenario_select_visible = true\r\n          this.scenario_upload_visible = false\r\n        }\r\n        // eslint-disable-next-line eqeqeq\r\n        if (value == 2) {\r\n          this.scenario_select_visible = false\r\n          this.scenario_upload_visible = true\r\n        }\r\n      },\r\n      handleScenarioSelectFromLibrary () {\r\n        console.log('test')\r\n        console.log(this.accident_id)\r\n        var _this = this\r\n        if (this.accident_id === '') {\r\n          this.$alert('请输入事故列表中具体事故场景的id', '提示', {\r\n            confirmButtonText: '确定'\r\n          })\r\n        } else {\r\n          this.$axios.get('/accidents/searchbyid/' + this.accident_id).then(resp => {\r\n            if (resp && resp.data.code === 200) {\r\n              _this.form.accidentFilePath = resp.data.result\r\n              this.$alert('已找到该事故场景，请继续选择其他配置', '提示', {\r\n                confirmButtonText: '确定'\r\n              })\r\n            } else {\r\n              _this.form.accidentFilePath = ''\r\n              this.$alert(resp.data.result, '提示', {\r\n                confirmButtonText: '确定'\r\n              })\r\n            }\r\n          })\r\n        }\r\n      },\r\n      uploadScenario () {\r\n        this.form.accidentFilePath = this.$refs.scenarioUpload.filePath\r\n      },\r\n      clearForm () {\r\n        this.$refs.scenarioUpload.deleteUploadedFile()\r\n        this.scenario_select_visible = false\r\n        this.scenario_upload_visible = false\r\n        this.dialogFormVisible = false\r\n        this.Afunction = []\r\n        this.accident_id = ''\r\n        this.form = {\r\n          state: {\r\n            id: '1',\r\n            type: ''\r\n          },\r\n          function: {\r\n            id: '',\r\n            type: ''\r\n          },\r\n          analyzedScenario: {\r\n            id: '',\r\n            type: ''\r\n          },\r\n          accidentFilePath: ''\r\n        }\r\n      },\r\n      beforeCloseHandler (done) {\r\n        if (this.hasSubmitted === false && this.$refs.scenarioUpload.filePath !== '') { // 如果没有提交而关闭表单，则删除用户上传的场景文件\r\n          this.$refs.scenarioUpload.deleteUploadedFile()\r\n        } else {\r\n          this.hasSubmitted = false\r\n          this.clearForm()\r\n        }\r\n        done() // 关闭表单\r\n      },\r\n      onSubmit () {\r\n        if (this.form.accidentFilePath === '') {\r\n          this.$alert('请先选择事故场景！如果您选择事故场景列表中的场景，您可能没有进行检索！如果您选择从本地上传事故场景，您可能没有点击上传按钮！', '提示', {\r\n            confirmButtonText: '确定'\r\n          })\r\n        } else {\r\n          var date = new Date()\r\n          var date1 = date.toLocaleDateString()\r\n          var s = 0\r\n          for (var i = 0; i < this.Afunction.length; i++) {\r\n            s += Number(this.Afunction[i])\r\n          }\r\n          this.form.function.id = s\r\n          this.$axios\r\n            .post('/edit/analyzedcases', {\r\n              date: date1,\r\n              state: this.form.state,\r\n              function: this.form.function,\r\n              analyzedScenario: this.form.analyzedScenario,\r\n              accidentFilePath: this.form.accidentFilePath\r\n            }).then(resp => {\r\n            if (resp && resp.data.code === 200) {\r\n              this.dialogFormVisible = false\r\n              this.hasSubmitted = true\r\n              this.$router.go(0)\r\n            }\r\n          })\r\n        }\r\n        },\r\n      startAnalysis (testCaseID) {\r\n        console.log(testCaseID + ' 分析启动中')\r\n        this.$axios.post('/callscript/startanalysis', {id: testCaseID})\r\n          .then(resp => {\r\n            if (resp.data.code === 200) {\r\n              this.$alert(resp.data.message, '提示', {\r\n                confirmButtonText: '确定调用成功'\r\n              })\r\n              // 延时刷新页面\r\n              setTimeout(() => {\r\n                this.$router.go(0)\r\n              }, 3000)\r\n            } else {\r\n              this.$alert(resp.data.message, '提示', {\r\n                confirmButtonText: '确定调用失败'\r\n              })\r\n            }\r\n          })\r\n          .catch(function (error) {\r\n            console.log(error)\r\n          })\r\n      }\r\n    }\r\n  }\r\n</script>\r\n\r\n<style>\r\n  .analysis-area {\r\n    width: 990px;\r\n    height: 750px;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n  }\r\n\r\n  .detail-link {\r\n    text-decoration: none;\r\n    color: #606266;\r\n  }\r\n\r\n  .detail-link:hover {\r\n    color: #409EFF;\r\n  }\r\n\r\n  .button-container {\r\n    display: flex;\r\n    justify-content: center;\r\n    align-items: center;\r\n  }\r\n\r\n  .button {\r\n    margin: 0 10px;\r\n  }\r\n\r\n  .el-dialog {\r\n    width: 100%;\r\n    height: 100%;\r\n    margin: 0;\r\n    padding: 0;\r\n    background-image: url(\"../../assets/img/bg/bg4.png\");\r\n    background-size: cover;\r\n    background-repeat: no-repeat;\r\n  }\r\n  .el-dialog__header {\r\n    display: flex;\r\n    align-items: center;\r\n    background-color: #1f3f8f;\r\n    font-size: 25px;\r\n  }\r\n  .el-dialog__title {\r\n    color: #fff;\r\n    font-family: 'Roboto Slab', serif;\r\n    font-size: 23px;\r\n  }\r\n  .el-dialog__close {\r\n    font-size: 30px;\r\n  }\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/analysis/AccidentAnalysis.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticStyle:{\"margin-top\":\"40px\"}},[_c('div',{staticClass:\"AnalysisStarter\"},[_c('div',{staticClass:\"button-container\"},[_c('el-button',{ref:\"analysisStarter\",staticClass:\"button\",on:{\"click\":function($event){_vm.dialogFormVisible = true}}},[_vm._v(\"新建事故分析\")])],1),_vm._v(\" \"),_c('el-dialog',{attrs:{\"title\":\"请设置您需要的分析信息\",\"visible\":_vm.dialogFormVisible,\"before-close\":_vm.beforeCloseHandler},on:{\"update:visible\":function($event){_vm.dialogFormVisible=$event}}},[_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"分析场景:\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.analyzedScenario.id),expression:\"form.analyzedScenario.id\"}],attrs:{\"type\":\"radio\",\"value\":\"1\"},domProps:{\"checked\":_vm._q(_vm.form.analyzedScenario.id,\"1\")},on:{\"change\":[function($event){return _vm.$set(_vm.form.analyzedScenario, \"id\", \"1\")},function($event){return _vm.handleScenarioSelect(_vm.form.analyzedScenario.id)}]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"从事故列表选取\"}},[_vm._v(\"从事故列表选取\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.analyzedScenario.id),expression:\"form.analyzedScenario.id\"}],attrs:{\"type\":\"radio\",\"value\":\"2\"},domProps:{\"checked\":_vm._q(_vm.form.analyzedScenario.id,\"2\")},on:{\"change\":[function($event){return _vm.$set(_vm.form.analyzedScenario, \"id\", \"2\")},function($event){return _vm.handleScenarioSelect(_vm.form.analyzedScenario.id)}]}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"点击上传\"}},[_vm._v(\"点击上传\")]),_vm._v(\" \"),_c('scenario-upload',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scenario_upload_visible),expression:\"scenario_upload_visible\"}],ref:\"scenarioUpload\",on:{\"onUpload\":_vm.uploadScenario}}),_vm._v(\" \"),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.scenario_select_visible),expression:\"scenario_select_visible\"}],staticClass:\"scenario-select\"},[_vm._v(\"\\n            请输入事故场景ID： \"),_c('el-input',{model:{value:(_vm.accident_id),callback:function ($$v) {_vm.accident_id=$$v},expression:\"accident_id\"}}),_vm._v(\" \"),_c('el-button',{on:{\"click\":_vm.handleScenarioSelectFromLibrary}},[_vm._v(\"检索事故场景\")])],1)],1),_vm._v(\" \"),_c('div',{staticStyle:{\"text-align\":\"left\"}},[_vm._v(\"启用功能:\\n          \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Afunction),expression:\"Afunction\"}],attrs:{\"type\":\"checkbox\",\"value\":\"10\"},domProps:{\"checked\":Array.isArray(_vm.Afunction)?_vm._i(_vm.Afunction,\"10\")>-1:(_vm.Afunction)},on:{\"change\":function($event){var $$a=_vm.Afunction,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"10\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.Afunction=$$a.concat([$$v]))}else{$$i>-1&&(_vm.Afunction=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.Afunction=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"无关场景元素分析\"}},[_vm._v(\"无关场景元素分析\")]),_vm._v(\" \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.Afunction),expression:\"Afunction\"}],attrs:{\"type\":\"checkbox\",\"value\":\"1\"},domProps:{\"checked\":Array.isArray(_vm.Afunction)?_vm._i(_vm.Afunction,\"1\")>-1:(_vm.Afunction)},on:{\"change\":function($event){var $$a=_vm.Afunction,$$el=$event.target,$$c=$$el.checked?(true):(false);if(Array.isArray($$a)){var $$v=\"1\",$$i=_vm._i($$a,$$v);if($$el.checked){$$i<0&&(_vm.Afunction=$$a.concat([$$v]))}else{$$i>-1&&(_vm.Afunction=$$a.slice(0,$$i).concat($$a.slice($$i+1)))}}else{_vm.Afunction=$$c}}}}),_vm._v(\" \"),_c('label',{attrs:{\"for\":\"问题模块定位\"}},[_vm._v(\"问题模块定位\")])]),_vm._v(\" \"),_c('div',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogFormVisible = false}}},[_vm._v(\"取消\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.onSubmit}},[_vm._v(\"添加事故分析\")])],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"analysis-area\"},[_c('h1',[_vm._v(\" 当前运行 \")]),_vm._v(\" \"),_c('el-card',{staticStyle:{\"text-align\":\"left\",\"width\":\"98%\"}},_vm._l((_vm.analysis1),function(analysis){return _c('div',{key:analysis.id},[_c('div',{staticStyle:{\"float\":\"left\",\"width\":\"85%\",\"height\":\"50px\"}},[_c('router-link',{staticClass:\"detail-link\",attrs:{\"to\":{path:'/analysis/details', query:{id: analysis.id}}}},[_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_c('strong',[_vm._v(\" ID:\"+_vm._s(analysis.id)+\" \")])])]),_vm._v(\" \"),_c('span',[_vm._v(\" \"+_vm._s(analysis.date)+\" \")])],1)])}),0),_vm._v(\" \"),_c('h1',[_vm._v(\" 等待运行 \")]),_vm._v(\" \"),_c('div',[_c('el-row',_vm._l((_vm.analysis0),function(analysis){return _c('el-col',{key:analysis.id,attrs:{\"span\":8}},[_c('el-card',{staticStyle:{\"text-align\":\"left\",\"width\":\"94%\",\"height\":\"70%\"}},[_c('div',{staticStyle:{\"float\":\"left\",\"width\":\"85%\",\"height\":\"100px\",\"display\":\"flex\",\"flex-direction\":\"row\"}},[_c('div',[_c('div',[_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_c('strong',[_vm._v(\" ID:\"+_vm._s(analysis.id)+\" \")])])]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(\" \"+_vm._s(analysis.date)+\" \")])])]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"40px\",\"width\":\"100px\",\"height\":\"50px\"},on:{\"click\":function($event){return _vm.startAnalysis(analysis.id)}}},[_vm._v(\"启动分析\")])],1)])],1)}),1)],1),_vm._v(\" \"),_c('h1',[_vm._v(\" 运行结束 \")]),_vm._v(\" \"),_c('div',[_c('el-row',_vm._l((_vm.analysis2),function(analysis){return _c('el-col',{key:analysis.id,attrs:{\"span\":8}},[_c('el-card',{staticStyle:{\"text-align\":\"left\",\"width\":\"94%\",\"height\":\"70%\"}},[_c('div',{staticStyle:{\"float\":\"left\",\"width\":\"85%\",\"height\":\"100px\"}},[_c('span',{staticStyle:{\"font-size\":\"20px\"}},[_c('strong',[_vm._v(\"ID:\"+_vm._s(analysis.id))])]),_vm._v(\" \"),_c('div',[_c('span',[_vm._v(\" \"+_vm._s(analysis.date)+\" \")])])])])],1)}),1)],1)],1)])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-76ac8c5a\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/analysis/AccidentAnalysis.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-76ac8c5a\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AccidentAnalysis.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccidentAnalysis.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AccidentAnalysis.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-76ac8c5a\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AccidentAnalysis.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/analysis/AccidentAnalysis.vue\n// module id = null\n// module chunks = ","<template>\n  <div>\n    <!--    action=\"http://10.176.36.38:8443/api/scenarios/upload\"-->\n    <!--  =\"http://localhost:8443/api/scenarios/upload\"-->\n    <div class=\"dialog-mask\" v-show=\"myDialogVisible\">\n      <div class=\"dialog-container\">\n        <div class=\"dialog-body\">\n          <form class=\"modal\">\n            <span class=\"close\" @click=\"handleCancel\">X</span>\n            <div class=\"content\">\n              <span class=\"title\">上传场景文件</span>\n              <p class=\"message\">选择json格式的场景文件，点击上传可以检测场景文件是否有效</p>\n              <el-upload\n                class=\"button upload-btn\"\n                ref=\"upload\"\n                action=\"http://localhost:8443/api/scenarios/upload\"\n                :http-request=\"submitUpload\"\n                accept=\"application/json\"\n                :before-remove=\"deleteUploadedFile\"\n                multiple\n                :limit=\"1\"\n                :on-exceed=\"handleExceed\"\n                :file-list=\"fileList\"\n                :before-upload=\"beforeUpload\"\n                :auto-upload=\"false\">\n                <div class=\"button-container\">\n                  <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\n                  <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"submit\">确定</el-button>\n                </div>\n                <div slot=\"tip\" class=\"el-upload__tip\">只能上传json文件</div>\n              </el-upload>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'ScenarioUpload',\n  data () {\n    return {\n      myDialogVisible: false,\n      fileList: [],\n      filePath: '',\n      fileName: ''\n    }\n  },\n  methods: {\n    handleExceed (files, fileList) {\n      let message = '当前限制选择1个文件，本次选择了' + files.length + '个文件'\n      if (files.length + fileList.length >= 2) {\n        message = message + '，共选择了' + (files.length + fileList.length) + '个文件'\n      }\n      this.$alert(message, '提示', {\n        confirmButtonText: '确定'\n      })\n    },\n    deleteUploadedFile () { // 删除上传的场景文件\n      this.$refs.upload.uploadFiles.pop()\n      if (this.filePath !== '') {\n        const index = this.filePath.lastIndexOf('/') // lastIndexOf(\"/\")  找到最后一个  /  的位置\n        const fileName = this.filePath.substring(index + 1) // substr() 截取剩余的字符，即得带后缀的文件名\n        let _this = this\n        this.$axios.post('/scenarios/deleteuploadedfile', {\n          fileName: fileName\n        }).then(res => {\n          _this.filePath = ''\n          _this.fileList = []\n          _this.fileName = ''\n        }).catch(err => {\n          console.log(err)\n        })\n      }\n    },\n    clear () {\n      this.$refs.upload.clearFiles()\n      this.fileName = ''\n    },\n    beforeUpload (file) {\n      // 限制上传文件的类型和大小\n      const isJson = (file.type === 'application/json')\n      const isLimit5M = (file.size / 1024 / 1024 < 5)\n      if (!isJson) {\n        this.$alert('上传失败，仅支持上传json文件，请重新选择json格式的文件并上传！', '提示', {\n          confirmButtonText: '确定'\n        })\n      }\n      if (!isLimit5M) {\n        this.$alert('上传失败，上传的文件大小不能超过5MB！', '提示', {\n          confirmButtonText: '确定'\n        })\n      }\n      this.fileName = file.name\n      return isJson && isLimit5M\n    },\n    submitUpload (val) {\n      let fileData = new FormData()\n      fileData.append('file', val.file)\n      this.$axios.post('/scenarios/upload', fileData)\n        .then(resp => {\n          if (resp && resp.data.code === 200) {\n            this.filePath = resp.data.result\n            this.$alert('上传成功，该场景文件有效，请继续选择其他测试信息', '提示', {\n              confirmButtonText: '确定'\n            })\n            this.$emit('onUpload')\n            this.myDialogVisible = false\n          } else {\n            this.$alert(resp.data.message, '提示', {\n              confirmButtonText: '确定'\n            })\n            this.$refs.upload.uploadFiles.pop()\n          }\n      })\n    },\n    submit () {\n      this.$refs.upload.submit()\n    },\n    show () {\n      this.myDialogVisible = true\n    },\n    handleCancel () {\n      this.myDialogVisible = false\n      this.clear()\n    },\n    handleConfirm () {\n      this.myDialogVisible = false\n      this.$emit('onUpload')\n    }\n  }\n}\n</script>\n\n<style scoped>\n/*对话框的样式*/\n.dialog-mask {\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.5);\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n.dialog-container {\n  width: 400px;\n  background-color: #fff;\n  border-radius: 4px;\n  box-shadow: 0 2px 12px rgba(0, 0, 0, 0.1);\n  overflow: hidden;\n}\n\n.dialog-body {\n  padding: 16px;\n}\n\n.dialog-footer button {\n  margin-left: 8px;\n  padding: 8px 16px;\n  border: none;\n  background-color: #1890ff;\n  color: #fff;\n  border-radius: 4px;\n  cursor: pointer;\n  outline: none;\n}\n\n.dialog-footer button:hover {\n  background-color: #40a9ff;\n}\n\n/*上传文件的组件样式*/\n.modal {\n  background-color: rgb(255, 255, 255);\n  border-radius: 1em;\n  box-shadow: 0px 100px 48px -60px rgba(0,0,0,0.1);\n  color: rgb(15, 14, 14);\n  max-width: 400px;\n  overflow: hidden;\n  position: relative;\n  transition: background-color 0.3s, color 0.3s;\n}\n\n.content > *, .modal > * {\n  padding: 0.875em;\n}\n\n.title {\n  font-size: 1.25em;\n  font-weight: 600;\n  line-height: 1.2;\n  display: flex;\n  justify-content: center;\n}\n\n.message {\n  line-height: 1.2;\n  text-align: center;\n}\n\n.upload-btn {\n  background-color: transparent;\n  border: 0.125rem dashed hsla(223,10%,50%,0.4);\n  flex: 1;\n  padding: 0.375rem 2rem;\n}\n\n.upload-btn:hover {\n  background-color: hsla(223,10%,60%,0.2);\n}\n\n.close {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  background-color: rgb(226, 94, 54);\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  position: absolute;\n  right: 10px;\n  top: 10px;\n  color: #fff;\n  font-weight: bold;\n  cursor: pointer;\n}\n\n.button-container {\n  display: flex;\n  justify-content: flex-end;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/test/ScenarioUpload.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.myDialogVisible),expression:\"myDialogVisible\"}],staticClass:\"dialog-mask\"},[_c('div',{staticClass:\"dialog-container\"},[_c('div',{staticClass:\"dialog-body\"},[_c('form',{staticClass:\"modal\"},[_c('span',{staticClass:\"close\",on:{\"click\":_vm.handleCancel}},[_vm._v(\"X\")]),_vm._v(\" \"),_c('div',{staticClass:\"content\"},[_c('span',{staticClass:\"title\"},[_vm._v(\"上传场景文件\")]),_vm._v(\" \"),_c('p',{staticClass:\"message\"},[_vm._v(\"选择json格式的场景文件，点击上传可以检测场景文件是否有效\")]),_vm._v(\" \"),_c('el-upload',{ref:\"upload\",staticClass:\"button upload-btn\",attrs:{\"action\":\"http://localhost:8443/api/scenarios/upload\",\"http-request\":_vm.submitUpload,\"accept\":\"application/json\",\"before-remove\":_vm.deleteUploadedFile,\"multiple\":\"\",\"limit\":1,\"on-exceed\":_vm.handleExceed,\"file-list\":_vm.fileList,\"before-upload\":_vm.beforeUpload,\"auto-upload\":false}},[_c('div',{staticClass:\"button-container\"},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.submit}},[_vm._v(\"确定\")])],1),_vm._v(\" \"),_c('div',{staticClass:\"el-upload__tip\",attrs:{\"slot\":\"tip\"},slot:\"tip\"},[_vm._v(\"只能上传json文件\")])])],1)])])])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4a210710\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/test/ScenarioUpload.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4a210710\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ScenarioUpload.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScenarioUpload.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ScenarioUpload.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4a210710\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ScenarioUpload.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4a210710\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/test/ScenarioUpload.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}